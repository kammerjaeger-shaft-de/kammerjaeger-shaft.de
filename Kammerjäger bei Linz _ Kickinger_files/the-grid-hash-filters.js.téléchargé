jQuery(function($){$('.wst-the-grid.grid-hash-filters').each(function(i){init_the_grid_hash_filter($(this))});function init_the_grid_hash_filter($element){var grid_id=get_grid_id($element);var filter=get_hash_filter(grid_id);if(filter){var filter_id=search_filter_id(grid_id,filter);$('#grid-'+grid_id+' .tg-grid-holder').data('filterload',filter_id);$('#grid-'+grid_id+' .tg-filter').removeClass('tg-filter-active');$('#grid-'+grid_id+' .tg-filter[data-filter="'+filter_id+'"]').addClass('tg-filter-active')}
$(window).on('hashchange',function(){var filter=get_hash_filter(grid_id);if(filter){var filter_id=search_filter_id(grid_id,filter);$('#grid-'+grid_id+' select.tg-dropdown-list').val(filter_id).trigger('change');$('#grid-'+grid_id+' .tg-filter[data-filter="'+filter_id+'"]').trigger('click')}});$(document).on('click','#grid-'+grid_id+' ul.tg-dropdown-list > li.tg-filter',function(){var value=$(this).find('.tg-filter-name').text();window.history.replaceState(null,null,document.location.pathname+'#'+'filter-'+grid_id+'-'+sanitize_title(value))});$(document).on('click','#grid-'+grid_id+' div.tg-filters-holder > div.tg-filter',function(){var value=$(this).find('.tg-filter-name').text();window.history.replaceState(null,null,document.location.pathname+'#'+'filter-'+grid_id+'-'+sanitize_title(value))});$(document).on('change','#grid-'+grid_id+' select.tg-dropdown-list',function(){var value=$(this).find(':selected').text();window.history.replaceState(null,null,document.location.pathname+'#'+'filter-'+grid_id+'-'+sanitize_title(value))})}
function get_grid_id($element){var grid_id=$element.children('.tg-grid-wrapper').attr('id');var matches=grid_id.match(/grid-([^&]+)/i);return matches&&matches[1]}
function get_hash_filter(grid_id){var regex=new RegExp('filter-'+grid_id+'-([^&]+)','i');var matches=location.hash.match(regex);var hashFilter=matches&&matches[1];return hashFilter&&decodeURIComponent(hashFilter)}
function search_filter_id(grid_id,filter){var filter_id=!1;$('#grid-'+grid_id+' .tg-filter').each(function(){var filter_name=$(this).children('.tg-filter-name').text();if(sanitize_title(filter_name)==filter){filter_id=$(this).data('filter');return!1}});$('#grid-'+grid_id+' select.tg-dropdown-list option').each(function(){var filter_name=$(this).text();if(sanitize_title(filter_name)==filter){filter_id=$(this).data('filter');return!1}});return filter_id}
function sanitize_title(str){str=str.split(' ').join('-');str=str.toLowerCase();var from="àáäâèéëêìíïîòóöôùúüûñç·/_,:;";var to="aaaaeeeeiiiioooouuuunc------";for(var i=0,l=from.length;i<l;i++){str=str.replace(new RegExp(from.charAt(i),'g'),to.charAt(i))}
return str.replace(/[^a-z0-9 -]/g,'').replace(/-+/g,'-')}})